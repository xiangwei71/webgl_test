!function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){"use strict";i.r(n);var e=function(t,n){this.from=t,this.dir=n};function r(t,n){return Math.abs(t-n)<.001}function o(t,n){return t.map((function(t){return t.h.hit(n,t.s)})).filter((function(t){return t.is_hit})).sort((function(t,n){return t.t-n.t}))}var u=function(){function t(t,n,i){this.x=0,this.y=0,this.z=0,this.x=t,this.y=n,this.z=i}return t.reflect=function(n,i){var e=-2*t.dot(n,i);return i.multiply(e).add(n)},t.add=function(n,i){return new t(i.x+n.x,i.y+n.y,i.z+n.z)},t.minus=function(n,i){return new t(n.x-i.x,n.y-i.y,n.z-i.z)},t.multiply=function(n,i){return new t(n.x*i,n.y*i,n.z*i)},t.multiply3=function(n,i){return new t(n.x*i.x,n.y*i.y,n.z*i.z)},t.cross=function(n,i){return new t(n.y*i.z-n.z*i.y,-n.x*i.z+n.z*i.x,n.x*i.y-n.y*i.x)},t.dot=function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z},t.equal=function(t,n){return r(t.x,n.x)&&r(t.y,n.y)&&r(t.z,n.z)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.normalize=function(){var t=this.length();return this.x=this.x/t,this.y=this.y/t,this.z=this.z/t,this},t.prototype.add=function(n){return t.add(this,n)},t.prototype.minus=function(n){return t.minus(this,n)},t.prototype.multiply=function(n){return t.multiply(this,n)},t.prototype.negative=function(){return t.multiply(this,-1)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.up=new t(0,1,0),t.zero=new t(0,0,0),t}(),s=function(){function t(t){this.color=t}return t.prototype.shading=function(t,n,i,r){var s,h,a,l=t.normal,f=(s=-u.dot(n,l),h=0,s>(a=1)?a:s<h?h:s),p=function(t,n,i){var r=n.negative(),u=t.hit_pos.add(r.multiply(.001));return 0!=o(i,new e(u,r)).length?.45:1}(t,n,i);return this.color.multiply(f).multiply(p)},t.yellow=new t(new u(1,1,0)),t.red=new t(new u(1,0,0)),t.green=new t(new u(0,1,0)),t.blue=new t(new u(0,0,1)),t.gray=new t(new u(.5,.5,.5)),t.white=new t(new u(1,1,1)),t}(),h=function(){function t(t,n,i){this.z_axis=u.minus(n,t).normalize();var e=u.up;this.x_axis=u.cross(e,this.z_axis).normalize(),this.y_axis=u.cross(this.z_axis,this.x_axis),this.eye=t,this.fov_degree=i}return t.prototype.create_ray_dir=function(t,n,i){var e,r=(e=.5*this.fov_degree,Math.PI*e/180),o=Math.tan(r),u=o*i;return this.z_axis.add(this.x_axis.multiply(t*u)).add(this.y_axis.multiply(n*o))},t.prototype.render=function(t,n){var i=this,r=new u(1,-1,0).normalize(),h=.5/t.h,a=[{x:0,y:0},{x:h,y:h},{x:-h,y:h},{x:-h,y:-h},{x:h,y:-h}];t.render_pixel((function(t,h,l){var f=i.create_ray_dir(t,h,l),p=a.map((function(t){var n=f.add(i.x_axis.multiply(t.x)).add(i.y_axis.multiply(t.y));return new e(i.eye,n.normalize())})).map((function(t){var i=o(n,t);if(0!=i.length){var e=i[0];return e.s.shading(e,r,n,1)}return s.gray.color})),c=a.length;return p.reduce((function(t,n){return t.add(n)}),u.zero).multiply(1/c)}))},t}(),a=function(){function t(t,n,i){this.plane=t,this.w=n,this.h=i}return t.prototype.hit=function(t,n){var i=this.plane.hit(t,n);if(i.is_hit){var e=i.hit_pos,r=e.minus(this.plane.C),o=u.equal(this.plane.N,u.up)?new u(1,0,0):u.up,s=u.cross(o,this.plane.N).normalize(),h=u.cross(s,this.plane.N),a=u.dot(r,s),l=u.dot(r,h);return{is_hit:Math.abs(a)<this.w&&Math.abs(l)<this.h,hit_pos:e,i:t.dir,t:i.t,normal:this.plane.N,s:n}}return{is_hit:!1}},t}(),l=function(){function t(t,n){this.C=t,this.N=n}return t.prototype.is_positive=function(t){var n=u.minus(t,this.C);return u.dot(n,this.N)>0},t.prototype.hit=function(t,n){var i=t.from,e=t.dir,o=u.dot(e,this.N),s=u.dot(u.minus(this.C,i),this.N);if(r(o,0))return{is_hit:!1,hit_pos:null,t:-1};var h=s/o;return{is_hit:h>0,hit_pos:i.add(e.multiply(h)),i:e,t:h,normal:this.N,s:n}},t}(),f=function(){function t(t,n){this.C=t,this.R=n}return t.prototype.hit=function(t,n){var i=t.dir,e=t.from,o=u.dot(i,i),s=2*(u.dot(i,e)-u.dot(i,this.C)),h=s*s-4*o*(u.dot(e,e)-2*u.dot(e,this.C)+u.dot(this.C,this.C)-this.R*this.R);if(r(h,0)){if((c=-s/(2*o))<0)return{is_hit:!1};var a=(p=e.add(i.multiply(c))).minus(this.C).normalize();return{is_hit:!0,hit_pos:p,i:i,t:c,normal:a,s:n}}if(h>0){var l=Math.sqrt(h),f=[(-s-l)/(2*o),(-s+l)/(2*o)].filter((function(t){return t>0}));if(0==f.length)return{is_hit:!1};var p,c=f[0];a=(p=e.add(i.multiply(c))).minus(this.C).normalize();return{is_hit:!0,hit_pos:p,i:i,t:c,normal:a,s:n}}return{is_hit:!1}},t}(),p=function(){function t(t,n){void 0===t&&(t=320),void 0===n&&(n=240),this.w=320,this.h=240,this.backbuffer=null,this.w=t,this.h=n,this.backbuffer=new OffscreenCanvas(this.w,this.h)}return t.prototype.render_pixel=function(t){for(var n=this.backbuffer.getContext("2d"),i=n.getImageData(0,0,this.w,this.h),e=i.data,r=this.w/this.h,o=0;o<this.h;++o)for(var u=0;u<this.w;++u){var s=4*(u+o*this.w),h=(u+.5)/this.w,a=(o+.5)/this.h,l=t(2*h-1,2*(a=1-a)-1,r),f=l.x,p=l.y,c=l.z;f=Math.pow(f,1/2.1),p=Math.pow(p,1/2.1),c=Math.pow(c,1/2.1),e[s++]=Math.round(255*f),e[s++]=Math.round(255*p),e[s++]=Math.round(255*c),e[s]=255}n.putImageData(i,0,0)},t.prototype.show_buffer=function(t){var n=document.getElementById(t);n.style.width=this.w+"px",n.style.height=this.h+"px",n.width=n.clientWidth,n.height=n.clientHeight,n.getContext("bitmaprenderer").transferFromImageBitmap(this.backbuffer.transferToImageBitmap())},t}(),c=function(t,n){this.s=t,this.h=n},y=function(){function t(){}return t.prototype.shading=function(t,n,i,r){if(r>20)return console.log("超過上限"),s.green.color;var h=t.normal,a=t.i,l=u.reflect(a,h),f=t.hit_pos.add(l.multiply(.001)),p=o(i,new e(f,l)),c=new u(1,1,1);if(0!=p.length){var y=p[0],d=y.s.shading(y,n,i,++r);return u.multiply3(c,d.multiply(.9))}return u.multiply3(c,s.gray.color.multiply(.9))},t}();new function(){var t=[new c(s.white,new a(new l(u.zero,u.up),16,16))];t.push(new c(s.yellow,new f(new u(6,2,-8),2))),t.push(new c(s.green,new f(new u(-6,2,-8),2))),t.push(new c(s.blue,new f(new u(0,2,-12),2))),t.push(new c(s.yellow,new f(new u(-10,6,0),6))),t.push(new c(new y,new f(new u(0,2,-2),2))),t.push(new c(new y,new f(new u(12,4,-6),4))),t.push(new c(new y,new f(new u(8,4,2),4)));var n=new h(new u(0,20,-20),u.zero,60),i=new p(800,600);n.render(i,t),i.show_buffer("canvas")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvUmF5LnRzIiwid2VicGFjazovLy8uL3NyYy9NYXRoL1Rvb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvVmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9NYXRlcmFpbHMvRGlmZnVzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTWF0aC9DYW1lcmEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvUmVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTWF0aC9QbGFuZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTWF0aC9TcGhlcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvUmVuZGVyVGFyZ2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9PYmplY3QvU2NlbmVOb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9NYXRlcmFpbHMvTWlycm9yLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9BcHAudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmcm9tIiwiZGlyIiwidGhpcyIsIm51bWJlcl9lcXVhbCIsImEiLCJiIiwiTWF0aCIsImFicyIsImdldF9oaXRfc29ydF9saXN0Iiwib2JqX2xpc3QiLCJyYXkiLCJtYXAiLCJvYmoiLCJoIiwiaGl0IiwiZmlsdGVyIiwiaW5mbyIsImlzX2hpdCIsInNvcnQiLCJweCIsInB5IiwicHoiLCJ4IiwieSIsInoiLCJyZWZsZWN0IiwiSSIsIk4iLCJMIiwiVmVjdG9yIiwiZG90IiwibXVsdGlwbHkiLCJhZGQiLCJBIiwiQiIsIm1pbnVzIiwibXVsdGlwbHkzIiwiY3Jvc3MiLCJlcXVhbCIsImxlbmd0aCIsInNxcnQiLCJub3JtYWxpemUiLCJ0ZW1wIiwibmVnYXRpdmUiLCJjbG9uZSIsInVwIiwiemVybyIsImNvbG9yIiwic2hhZGluZyIsImhpdF9pbmZvIiwiZGlyZWN0aW9uX2xpZ2h0X2RpciIsImRlcHRoIiwibm9ybWFsIiwic3RyZW5ndGgiLCJzaGFkb3dfd2VpZ2h0IiwiaGl0X3BvcyIsImdldF9zaGFkb3dfd2VpZ2h0IiwieWVsbG93IiwiRGlmZnVzZSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImdyYXkiLCJ3aGl0ZSIsImV5ZSIsImxvb2tfYXQiLCJmb3ZfZGVncmVlIiwiel9heGlzIiwiaGVscF92IiwieF9heGlzIiwieV9heGlzIiwiY3JlYXRlX3JheV9kaXIiLCJ4X3dlaWdodCIsInlfd2VpZ2h0IiwicmF0aW8iLCJoYWxmX2Zvdl9yYWQiLCJQSSIsInRhbl9oIiwidGFuIiwidGFuX3ciLCJyZW5kZXIiLCJyZW5kZXJfdGFyZ2V0IiwiaGFsZl9waXhlbF9vZmZzZXQiLCJtdWx0aXNhbXBsZV9kaWZmIiwicmVuZGVyX3BpeGVsIiwicmF5X2RpciIsImNvbG9ycyIsImRpZmYiLCJoaXRfc29ydF9saXN0IiwiY291bnQiLCJyZWR1Y2UiLCJhY2N1bXVsYXRvciIsImN1cnJlbnQiLCJwbGFuZSIsInciLCJyZXN1bHQiLCJDIiwid19heGlzIiwiaF9heGlzIiwid192YWx1ZSIsImhfdmFsdWUiLCJwb2ludCIsImlzX3Bvc2l0aXZlIiwidGVzdF9wIiwiUiIsIkQiLCJGIiwiayIsInNxcnRfayIsInRfbGlzdCIsImJhY2tidWZmZXIiLCJPZmZzY3JlZW5DYW52YXMiLCJmdW5jIiwiY29udGV4dF8yZCIsImdldENvbnRleHQiLCJiYWNrYnVmZmVyX2RhdGEiLCJnZXRJbWFnZURhdGEiLCJiYWNrYnVmZmVyX2RhdGFfYXJyYXkiLCJkYXRhIiwiaW5kZXgiLCJYIiwiWSIsImciLCJwb3ciLCJyb3VuZCIsInB1dEltYWdlRGF0YSIsInNob3dfYnVmZmVyIiwiY2FudmFzX2lkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInRyYW5zZmVyRnJvbUltYWdlQml0bWFwIiwidHJhbnNmZXJUb0ltYWdlQml0bWFwIiwiY29uc29sZSIsImxvZyIsImhpdF9pbmZvX25leHQiLCJoaXRfY29sb3IiLCJwdXNoIiwiY2FtZXJhIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdE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QU8sSUFBSSxFQUFPLEVBQUcsRUFBRyxHQUFJLEtBRTFFLElBQUlDLEVBQVMsSUFBSSxFQUFPLElBQUksRUFBTyxFQUFHLElBQUssSUFBSyxFQUFPakcsS0FBTSxJQUd6RG1DLEVBQWdCLElBQUksRUFBYSxJQUFLLEtBQzFDOEQsRUFBTy9ELE9BQU9DLEVBQWV4RSxHQUM3QndFLEVBQWM2QyxZQUFZIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFZlY29yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5IHtcclxuICAgIGZyb206IFZlY29yO1xyXG4gICAgZGlyOiBWZWNvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWNvciwgZGlyOiBWZWNvcikge1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgUmF5IGZyb20gXCIuL1JheVwiO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tIFwiLi9IaXRJbmZvXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlX3RvX1JhZChkOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLlBJICogZCAvIDE4MDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlcHNpbG9uOiBudW1iZXIgPSAwLjAwMTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJfZXF1YWwoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyhhIC0gYikgPCBlcHNpbG9uO1xyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB4IGlucHV0XHJcbiAqIEBwYXJhbSBhIG1pbiBcclxuICogQHBhcmFtIGIgbWF4XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoeDogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcikge1xyXG4gICAgaWYgKHggPiBiKVxyXG4gICAgICAgIHJldHVybiBiO1xyXG4gICAgZWxzZSBpZiAoeCA8IGEpXHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdDogU2NlbmVOb2RlW10sIHJheTogUmF5KSB7XHJcbiAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IG9ial9saXN0Lm1hcChvYmogPT4gb2JqLmguaGl0KHJheSwgb2JqLnMpKVxyXG4gICAgICAgIC5maWx0ZXIoaW5mbyA9PiBpbmZvLmlzX2hpdClcclxuICAgICAgICAuc29ydCgoYTogSGl0SW5mbywgYjogSGl0SW5mbykgPT4gYS50IC0gYi50KTtcclxuXHJcbiAgICByZXR1cm4gaGl0X3NvcnRfbGlzdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvOiBIaXRJbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyOiBWZWN0b3IsIG9ial9saXN0OiBTY2VuZU5vZGVbXSkge1xyXG5cclxuICAgIC8vIOaYr+WQpuWcqOW9seWtkOWFp1xyXG4gICAgbGV0IGRpciA9IGRpcmVjdGlvbl9saWdodF9kaXIubmVnYXRpdmUoKTtcclxuICAgIGxldCBmcm9tID0gaGl0X2luZm8uaGl0X3Bvcy5hZGQoZGlyLm11bHRpcGx5KGVwc2lsb24pKTsgLy8g5YGP56e75LiA5bCP5q616Led6Zui77yM6YG/5YWN5bCE5Lit6Ieq5bexXHJcbiAgICBsZXQgcmF5ID0gbmV3IFJheShmcm9tLCBkaXIpO1xyXG4gICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuICAgIGlmIChoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwKSB7IC8vIOWcqOW9seWtkOWFp1xyXG4gICAgICAgIHJldHVybiAwLjQ1OyAvLyDkuI3opoHlpKrpu5FcclxuICAgIH0gZWxzZVxyXG4gICAgICAgIHJldHVybiAxO1xyXG59IiwiaW1wb3J0IHsgbnVtYmVyX2VxdWFsIH0gZnJvbSAnLi9Ub29sJ1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XHJcblxyXG4gICAgc3RhdGljIHVwID0gbmV3IFZlY3RvcigwLCAxLCAwKTtcclxuICAgIHN0YXRpYyB6ZXJvID0gbmV3IFZlY3RvcigwLCAwLCAwKTtcclxuXHJcbiAgICBzdGF0aWMgcmVmbGVjdChJOiBWZWN0b3IsIE46IFZlY3Rvcikge1xyXG4gICAgICAgIGxldCBMID0gLTIgKiBWZWN0b3IuZG90KEksIE4pXHJcbiAgICAgICAgcmV0dXJuIE4ubXVsdGlwbHkoTCkuYWRkKEkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGQoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICB2YXIgdGVtcCA9IG5ldyBWZWN0b3IoQi54ICsgQS54LCBCLnkgKyBBLnksIEIueiArIEEueik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbWludXMoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICB2YXIgdGVtcCA9IG5ldyBWZWN0b3IoQS54IC0gQi54LCBBLnkgLSBCLnksIEEueiAtIEIueik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbXVsdGlwbHkoQTogVmVjdG9yLCBzOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgdGVtcCA9IG5ldyBWZWN0b3IoQS54ICogcywgQS55ICogcywgQS56ICogcyk7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbXVsdGlwbHkzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoQS54ICogQi54LCBBLnkgKiBCLnksIEEueiAqIEIueik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyb3NzKEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBuZXcgVmVjdG9yKEEueSAqIEIueiAtIEEueiAqIEIueSwgLUEueCAqIEIueiArIEEueiAqIEIueCwgQS54ICogQi55IC0gQS55ICogQi54KTtcclxuICAgICAgICByZXR1cm4gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZG90KEE6IFZlY3RvciwgQjogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIEEueCAqIEIueCArIEEueSAqIEIueSArIEEueiAqIEIuejtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZXF1YWwoQTogVmVjdG9yLCBCOiBWZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gbnVtYmVyX2VxdWFsKEEueCwgQi54KSAmJiBudW1iZXJfZXF1YWwoQS55LCBCLnkpICYmIG51bWJlcl9lcXVhbChBLnosIEIueik7XHJcbiAgICB9XHJcblxyXG4gICAgeDogbnVtYmVyID0gMDtcclxuICAgIHk6IG51bWJlciA9IDA7XHJcbiAgICB6OiBudW1iZXIgPSAwO1xyXG4gICAgY29uc3RydWN0b3IocHg6IG51bWJlciwgcHk6IG51bWJlciwgcHo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IHB4O1xyXG4gICAgICAgIHRoaXMueSA9IHB5O1xyXG4gICAgICAgIHRoaXMueiA9IHB6O1xyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueik7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIHZhciB0ZW1wID0gdGhpcy5sZW5ndGgoKTtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggLyB0ZW1wO1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMueSAvIHRlbXA7XHJcbiAgICAgICAgdGhpcy56ID0gdGhpcy56IC8gdGVtcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhZGQoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5hZGQodGhpcywgQSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWludXMoQTogVmVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3Rvci5taW51cyh0aGlzLCBBKTtcclxuICAgIH1cclxuXHJcbiAgICBtdWx0aXBseShzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5KHRoaXMsIHMpO1xyXG4gICAgfVxyXG5cclxuICAgIG5lZ2F0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkodGhpcywgLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vTWF0aC9WZWN0b3JcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4uL01hdGgvSGl0SW5mb1wiO1xyXG5pbXBvcnQgeyBjbGFtcCwgZ2V0X3NoYWRvd193ZWlnaHQgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSBcIi4uL09iamVjdC9TY2VuZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZmZ1c2UgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc3RhdGljIHllbGxvdyA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMCkpO1xyXG4gICAgc3RhdGljIHJlZCA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMCwgMCkpO1xyXG4gICAgc3RhdGljIGdyZWVuID0gbmV3IERpZmZ1c2UobmV3IFZlY3RvcigwLCAxLCAwKSk7XHJcbiAgICBzdGF0aWMgYmx1ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMCwgMCwgMSkpO1xyXG4gICAgc3RhdGljIGdyYXkgPSBuZXcgRGlmZnVzZShuZXcgVmVjdG9yKDAuNSwgMC41LCAwLjUpKTtcclxuICAgIHN0YXRpYyB3aGl0ZSA9IG5ldyBEaWZmdXNlKG5ldyBWZWN0b3IoMSwgMSwgMSkpO1xyXG5cclxuICAgIGNvbG9yOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvcjogVmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNoYWRpbmcoaGl0X2luZm86IEhpdEluZm8sIGRpcmVjdGlvbl9saWdodF9kaXI6IFZlY3Rvciwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdLCBkZXB0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IG4gPSBoaXRfaW5mby5ub3JtYWw7XHJcbiAgICAgICAgbGV0IHN0cmVuZ3RoID0gY2xhbXAoLVZlY3Rvci5kb3QoZGlyZWN0aW9uX2xpZ2h0X2RpciwgbiksIDAsIDEpO1xyXG5cclxuICAgICAgICBsZXQgc2hhZG93X3dlaWdodCA9IGdldF9zaGFkb3dfd2VpZ2h0KGhpdF9pbmZvLCBkaXJlY3Rpb25fbGlnaHRfZGlyLCBvYmpfbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3IubXVsdGlwbHkoc3RyZW5ndGgpLm11bHRpcGx5KHNoYWRvd193ZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuaW1wb3J0IFJheSBmcm9tIFwiLi9SYXlcIjtcclxuaW1wb3J0IHsgZGVncmVlX3RvX1JhZCwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi9Ub29sXCJcclxuaW1wb3J0IFJlbmRlclRhcmdldCBmcm9tIFwiLi9SZW5kZXJUYXJnZXRcIjtcclxuaW1wb3J0IEhpdEluZm8gZnJvbSBcIi4vSGl0SW5mb1wiO1xyXG5pbXBvcnQgU2NlbmVOb2RlIGZyb20gXCIuLi9PYmplY3QvU2NlbmVOb2RlXCI7XHJcbmltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGV5ZTogVmVjdG9yO1xyXG5cclxuICAgIHhfYXhpczogVmVjdG9yO1xyXG4gICAgeV9heGlzOiBWZWN0b3I7XHJcbiAgICB6X2F4aXM6IFZlY3RvcjtcclxuXHJcbiAgICBmb3ZfZGVncmVlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihleWU6IFZlY3RvciwgbG9va19hdDogVmVjdG9yLCBmb3ZfZGVncmVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIDPou7hcclxuICAgICAgICB0aGlzLnpfYXhpcyA9IFZlY3Rvci5taW51cyhsb29rX2F0LCBleWUpLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICBsZXQgaGVscF92ID0gVmVjdG9yLnVwO1xyXG4gICAgICAgIHRoaXMueF9heGlzID0gVmVjdG9yLmNyb3NzKGhlbHBfdiwgdGhpcy56X2F4aXMpLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMueV9heGlzID0gVmVjdG9yLmNyb3NzKHRoaXMuel9heGlzLCB0aGlzLnhfYXhpcyk7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSDljp/pu55cclxuICAgICAgICB0aGlzLmV5ZSA9IGV5ZTtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhIGZvdlxyXG4gICAgICAgIHRoaXMuZm92X2RlZ3JlZSA9IGZvdl9kZWdyZWU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlX3JheV9kaXIoeF93ZWlnaHQ6IG51bWJlciwgeV93ZWlnaHQ6IG51bWJlciwgcmF0aW86IG51bWJlcikge1xyXG4gICAgICAgIGxldCBoYWxmX2Zvdl9yYWQgPSBkZWdyZWVfdG9fUmFkKDAuNSAqIHRoaXMuZm92X2RlZ3JlZSk7XHJcbiAgICAgICAgbGV0IHRhbl9oID0gTWF0aC50YW4oaGFsZl9mb3ZfcmFkKTtcclxuICAgICAgICBsZXQgdGFuX3cgPSB0YW5faCAqIHJhdGlvO1xyXG5cclxuICAgICAgICBsZXQgZGlyID0gdGhpcy56X2F4aXNcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnhfYXhpcy5tdWx0aXBseSh4X3dlaWdodCAqIHRhbl93KSlcclxuICAgICAgICAgICAgLmFkZCh0aGlzLnlfYXhpcy5tdWx0aXBseSh5X3dlaWdodCAqIHRhbl9oKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkaXI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKHJlbmRlcl90YXJnZXQ6IFJlbmRlclRhcmdldCwgb2JqX2xpc3Q6IFNjZW5lTm9kZVtdKSB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbl9saWdodF9kaXIgPSBuZXcgVmVjdG9yKDEsIC0xLCAwKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgbGV0IGhhbGZfcGl4ZWxfb2Zmc2V0ID0gMC41IC8gcmVuZGVyX3RhcmdldC5oO1xyXG4gICAgICAgIGxldCBtdWx0aXNhbXBsZV9kaWZmID0gW1xyXG4gICAgICAgICAgICB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiAtaGFsZl9waXhlbF9vZmZzZXQsIHk6IGhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgICAgIHsgeDogLWhhbGZfcGl4ZWxfb2Zmc2V0LCB5OiAtaGFsZl9waXhlbF9vZmZzZXQgfSxcclxuICAgICAgICAgICAgeyB4OiBoYWxmX3BpeGVsX29mZnNldCwgeTogLWhhbGZfcGl4ZWxfb2Zmc2V0IH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5yZW5kZXJfcGl4ZWwoKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJheV9kaXIgPSB0aGlzLmNyZWF0ZV9yYXlfZGlyKHhfd2VpZ2h0LCB5X3dlaWdodCwgcmF0aW8pO1xyXG5cclxuICAgICAgICAgICAgLy8g55Si55Sf5aSa5qKdcmF5XHJcbiAgICAgICAgICAgIGxldCByYXlzID0gbXVsdGlzYW1wbGVfZGlmZi5tYXAoZGlmZiA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDlsI1yYXlfZHJp5L2c5YGP56e7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlyID0gcmF5X2Rpci5hZGQodGhpcy54X2F4aXMubXVsdGlwbHkoZGlmZi54KSkuYWRkKHRoaXMueV9heGlzLm11bHRpcGx5KGRpZmYueSkpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6ZuW54S25ZKM55CD44CB5bmz6Z2i55qEaGl06KiI566X5LiN6ZyA6KaBZGly5L2cbm9ybWFsaXpl77yM5L2G54K65LqG5pa55L6/5Y+N5bCE55qE6KiI566X6YKE5piv5L2cbm9ybWFsaXplXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJheSh0aGlzLmV5ZSwgZGlyLm5vcm1hbGl6ZSgpKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOavj+WAi3JheemDveeul2NvbG9yXHJcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSByYXlzLm1hcChyYXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhpdF9zb3J0X2xpc3QgPSBnZXRfaGl0X3NvcnRfbGlzdChvYmpfbGlzdCwgcmF5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDmnInlsITkuK3ll45cclxuICAgICAgICAgICAgICAgIGxldCBpc19oaXQgPSBoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzX2hpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRfaW5mbyA9IGhpdF9zb3J0X2xpc3RbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhpdF9pbmZvLnMuc2hhZGluZyhoaXRfaW5mbywgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QsIDEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGlmZnVzZS5ncmF5LmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWPluW5s+Wdh+WwseaciUFudGlhbGlhc2luZ+aViOaenFxyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBtdWx0aXNhbXBsZV9kaWZmLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IGZpbmFsX2NvbG9yID0gY29sb3JzLnJlZHVjZSgoYWNjdW11bGF0b3I6IFZlY3RvciwgY3VycmVudDogVmVjdG9yKSA9PiBhY2N1bXVsYXRvci5hZGQoY3VycmVudCksIFZlY3Rvci56ZXJvKS5tdWx0aXBseSgxIC8gY291bnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxfY29sb3I7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBQbGFuZSBmcm9tIFwiLi9QbGFuZVwiO1xyXG5pbXBvcnQgUmF5IGZyb20gXCIuL1JheVwiO1xyXG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuL1ZlY3RvclwiO1xyXG5pbXBvcnQgSGl0SW5mbyBmcm9tIFwiLi9IaXRJbmZvXCI7XHJcbmltcG9ydCBIaXRhYmxlIGZyb20gXCIuL0hpdGFibGVcIjtcclxuaW1wb3J0IFNoYWRlciBmcm9tIFwiLi4vTWF0ZXJhaWxzL1NoYWRlclwiO1xyXG5cclxuLy8g5bCP5pa55aGKXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlY3QgaW1wbGVtZW50cyBIaXRhYmxlIHtcclxuICAgIHBsYW5lOiBQbGFuZTtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbGFuZTogUGxhbmUsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wbGFuZSA9IHBsYW5lO1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy5oID0gaDtcclxuICAgIH1cclxuXHJcbiAgICBoaXQocmF5OiBSYXksIHM6IFNoYWRlcik6IEhpdEluZm8ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBsYW5lLmhpdChyYXksIHMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuaXNfaGl0KSB7XHJcbiAgICAgICAgICAgIGxldCBoaXRfcG9zID0gcmVzdWx0LmhpdF9wb3M7XHJcbiAgICAgICAgICAgIGxldCBkaWZmID0gaGl0X3Bvcy5taW51cyh0aGlzLnBsYW5lLkMpO1xyXG5cclxuICAgICAgICAgICAgLy8g6YG/6ZaL55u4562J55qE5oOF5rOBXHJcbiAgICAgICAgICAgIGxldCBoZWxwX3YgPSBWZWN0b3IuZXF1YWwodGhpcy5wbGFuZS5OLCBWZWN0b3IudXApID8gbmV3IFZlY3RvcigxLCAwLCAwKSA6IFZlY3Rvci51cDtcclxuXHJcbiAgICAgICAgICAgIGxldCB3X2F4aXMgPSBWZWN0b3IuY3Jvc3MoaGVscF92LCB0aGlzLnBsYW5lLk4pLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICBsZXQgaF9heGlzID0gVmVjdG9yLmNyb3NzKHdfYXhpcywgdGhpcy5wbGFuZS5OKTtcclxuICAgICAgICAgICAgbGV0IHdfdmFsdWUgPSBWZWN0b3IuZG90KGRpZmYsIHdfYXhpcyk7XHJcbiAgICAgICAgICAgIGxldCBoX3ZhbHVlID0gVmVjdG9yLmRvdChkaWZmLCBoX2F4aXMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlzX2hpdCA9IE1hdGguYWJzKHdfdmFsdWUpIDwgdGhpcy53ICYmIE1hdGguYWJzKGhfdmFsdWUpIDwgdGhpcy5oO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaXNfaGl0LFxyXG4gICAgICAgICAgICAgICAgaGl0X3BvcyxcclxuICAgICAgICAgICAgICAgIGk6IHJheS5kaXIsXHJcbiAgICAgICAgICAgICAgICB0OiByZXN1bHQudCxcclxuICAgICAgICAgICAgICAgIG5vcm1hbDogdGhpcy5wbGFuZS5OLFxyXG4gICAgICAgICAgICAgICAgc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzX2hpdDogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJztcclxuaW1wb3J0IFJheSBmcm9tICcuL1JheSc7XHJcbmltcG9ydCB7IG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gJy4vSGl0SW5mbyc7XHJcbmltcG9ydCBIaXRhYmxlIGZyb20gJy4vSGl0YWJsZSc7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSAnLi4vTWF0ZXJhaWxzL1NoYWRlcic7XHJcblxyXG4vLyDlubPpnaJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhbmUgaW1wbGVtZW50cyBIaXRhYmxlIHtcclxuXHJcbiAgICBDOiBWZWN0b3I7XHJcbiAgICBOOiBWZWN0b3I7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogVmVjdG9yLCBub3JtYWw6IFZlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuQyA9IHBvaW50O1xyXG4gICAgICAgIHRoaXMuTiA9IG5vcm1hbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmuKzoqaZ0ZXNwX3DlkozmlrnlkJHph4/mmK/kuI3mmK/lnKjlkIzkuIDpgopcclxuICAgIGlzX3Bvc2l0aXZlKHRlc3RfcDogVmVjdG9yKSB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBWZWN0b3IubWludXModGVzdF9wLCB0aGlzLkMpO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IFZlY3Rvci5kb3QoZGlmZiwgdGhpcy5OKTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGhpdChyYXk6IFJheSwgczogU2hhZGVyKTogSGl0SW5mbyB7XHJcbiAgICAgICAgLy8gcmF5IGhpdCBwbGFuZSBcclxuICAgICAgICBsZXQgZnJvbSA9IHJheS5mcm9tO1xyXG4gICAgICAgIGxldCBkaXIgPSByYXkuZGlyO1xyXG5cclxuICAgICAgICAvLyAoRi1DKeOAgk4gKyB0IChE44CCTikgPSAwXHJcbiAgICAgICAgLy8gdCAgPSAoQy1GKeOAgk4gLyAoROOAgk4pXHJcbiAgICAgICAgLy8gdCAgPSAoQSAvIChCKVxyXG4gICAgICAgIGxldCBCID0gVmVjdG9yLmRvdChkaXIsIHRoaXMuTik7XHJcbiAgICAgICAgbGV0IEEgPSBWZWN0b3IuZG90KFZlY3Rvci5taW51cyh0aGlzLkMsIGZyb20pLCB0aGlzLk4pO1xyXG5cclxuICAgICAgICAvLyBhdm9pZCBkaXZpZGUgYnkgMFxyXG4gICAgICAgIGlmIChudW1iZXJfZXF1YWwoQiwgMCkpXHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzX2hpdDogZmFsc2UsIGhpdF9wb3M6IG51bGwsIHQ6IC0xIH07XHJcblxyXG4gICAgICAgIGxldCB0ID0gQSAvIEI7XHJcbiAgICAgICAgbGV0IGlzX2hpdCA9IHQgPiAwLjA7XHJcbiAgICAgICAgbGV0IGhpdF9wb3MgPSBmcm9tLmFkZChkaXIubXVsdGlwbHkodCkpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzX2hpdCxcclxuICAgICAgICAgICAgaGl0X3BvcyxcclxuICAgICAgICAgICAgaTogZGlyLFxyXG4gICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICBub3JtYWw6IHRoaXMuTixcclxuICAgICAgICAgICAgc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBWZWN0b3IgZnJvbSBcIi4vVmVjdG9yXCI7XHJcbmltcG9ydCBSYXkgZnJvbSBcIi4vUmF5XCI7XHJcbmltcG9ydCB7IG51bWJlcl9lcXVhbCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuL0hpdEluZm9cIjtcclxuaW1wb3J0IEhpdGFibGUgZnJvbSBcIi4vSGl0YWJsZVwiO1xyXG5pbXBvcnQgU2hhZGVyIGZyb20gXCIuLi9NYXRlcmFpbHMvU2hhZGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGhlcmUgaW1wbGVtZW50cyBIaXRhYmxlIHtcclxuXHJcbiAgICBDOiBWZWN0b3I7IC8vIOeQg+S4reW/g1xyXG4gICAgUjogbnVtYmVyOyAvLyDnkIPljYrlvpFcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihDOiBWZWN0b3IsIFI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuQyA9IEM7XHJcbiAgICAgICAgdGhpcy5SID0gUjtcclxuICAgIH1cclxuXHJcbiAgICBoaXQocmF5OiBSYXksIHM6IFNoYWRlcik6IEhpdEluZm8ge1xyXG4gICAgICAgIC8vIOinozLmrKHmlrnnqIvlvI9cclxuICAgICAgICAvLyAoWC1DKeOAgihYLUMpID0gUipSXHJcbiAgICAgICAgLy8gWD1GK3QqRFxyXG4gICAgICAgIC8vIHQ9WygtYi1zcXJ0X2spLzJhLCgtYitzcXJ0X2spLzJhXVxyXG4gICAgICAgIGxldCBEID0gcmF5LmRpcjtcclxuICAgICAgICBsZXQgRiA9IHJheS5mcm9tO1xyXG4gICAgICAgIGxldCBhID0gVmVjdG9yLmRvdChELCBEKTtcclxuICAgICAgICBsZXQgYiA9IDIgKiAoVmVjdG9yLmRvdChELCBGKSAtIFZlY3Rvci5kb3QoRCwgdGhpcy5DKSk7XHJcbiAgICAgICAgbGV0IGMgPSBWZWN0b3IuZG90KEYsIEYpIC0gMiAqIFZlY3Rvci5kb3QoRiwgdGhpcy5DKSArIFZlY3Rvci5kb3QodGhpcy5DLCB0aGlzLkMpIC0gdGhpcy5SICogdGhpcy5SO1xyXG5cclxuICAgICAgICBsZXQgayA9IGIgKiBiIC0gNCAqIGEgKiBjO1xyXG4gICAgICAgIGlmIChudW1iZXJfZXF1YWwoaywgMCkpIHsgIC8vIOS6pOaWvDHpu55cclxuICAgICAgICAgICAgbGV0IHQgPSAtYiAvICgyICogYSk7XHJcblxyXG4gICAgICAgICAgICAvL+aTi+aOiVxyXG4gICAgICAgICAgICBpZiAodCA8IDApIHsgcmV0dXJuIHsgaXNfaGl0OiBmYWxzZSB9IH1cclxuXHJcbiAgICAgICAgICAgIGxldCBoaXRfcG9zID0gRi5hZGQoRC5tdWx0aXBseSh0KSk7XHJcbiAgICAgICAgICAgIGxldCBub3JtYWwgPSBoaXRfcG9zLm1pbnVzKHRoaXMuQykubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc19oaXQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaXRfcG9zLFxyXG4gICAgICAgICAgICAgICAgaTogRCxcclxuICAgICAgICAgICAgICAgIHQsXHJcbiAgICAgICAgICAgICAgICBub3JtYWwsXHJcbiAgICAgICAgICAgICAgICBzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoayA+IDApIHsgLy8g5Lqk5pa8Mum7nlxyXG5cclxuICAgICAgICAgICAgLy8g6YGO5r++5Ye6dD4wXHJcbiAgICAgICAgICAgIC8vIHJheS5mcm9t5Zyo55CD5YWn55CD5pyJ5Y+v6IO95Ye654++dDwwXHJcbiAgICAgICAgICAgIC8vIOeQg+WcqHJheeeahOW+jOmdouS5n+WPr+iDveWHuuePvnQ8MFxyXG4gICAgICAgICAgICBsZXQgc3FydF9rID0gTWF0aC5zcXJ0KGspO1xyXG4gICAgICAgICAgICBsZXQgdF9saXN0ID0gWygtYiAtIHNxcnRfaykgLyAoMiAqIGEpLCAoLWIgKyBzcXJ0X2spIC8gKDIgKiBhKV0uZmlsdGVyKHggPT4geCA+IDApO1xyXG5cclxuICAgICAgICAgICAgLy8g6YO95piv6LKg5YC8XHJcbiAgICAgICAgICAgIGlmICh0X2xpc3QubGVuZ3RoID09IDApIHsgcmV0dXJuIHsgaXNfaGl0OiBmYWxzZSB9IH1cclxuXHJcbiAgICAgICAgICAgIGxldCB0ID0gdF9saXN0WzBdO1xyXG4gICAgICAgICAgICBsZXQgaGl0X3BvcyA9IEYuYWRkKEQubXVsdGlwbHkodCkpO1xyXG4gICAgICAgICAgICBsZXQgbm9ybWFsID0gaGl0X3Bvcy5taW51cyh0aGlzLkMpLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaXNfaGl0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGl0X3BvcyxcclxuICAgICAgICAgICAgICAgIGk6IEQsXHJcbiAgICAgICAgICAgICAgICB0LFxyXG4gICAgICAgICAgICAgICAgbm9ybWFsLFxyXG4gICAgICAgICAgICAgICAgc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHsgLy8g5rKS5Lqk6bueXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpc19oaXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi9WZWN0b3JcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyVGFyZ2V0IHtcclxuICAgIHc6IG51bWJlciA9IDMyMDtcclxuICAgIGg6IG51bWJlciA9IDI0MDtcclxuICAgIGJhY2tidWZmZXI6IE9mZnNjcmVlbkNhbnZhcyA9IG51bGw7XHJcbiAgICBjb25zdHJ1Y3Rvcih3OiBudW1iZXIgPSAzMjAsIGg6IG51bWJlciA9IDI0MCkge1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICAgICAgdGhpcy5oID0gaDtcclxuICAgICAgICB0aGlzLmJhY2tidWZmZXIgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHRoaXMudywgdGhpcy5oKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJfcGl4ZWwoZnVuYzogKHhfd2VpZ2h0OiBudW1iZXIsIHlfd2VpZ2h0OiBudW1iZXIsIHJhdGlvOiBudW1iZXIpID0+IFZlY3Rvcikge1xyXG5cclxuICAgICAgICBsZXQgY29udGV4dF8yZCA9IHRoaXMuYmFja2J1ZmZlci5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICAvLyBnZXQgc291cmNlIGRhdGEgYXJyYXlcclxuICAgICAgICBsZXQgYmFja2J1ZmZlcl9kYXRhID0gY29udGV4dF8yZC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy53LCB0aGlzLmgpO1xyXG4gICAgICAgIGxldCBiYWNrYnVmZmVyX2RhdGFfYXJyYXkgPSBiYWNrYnVmZmVyX2RhdGEuZGF0YTtcclxuXHJcbiAgICAgICAgbGV0IHJhdGlvID0gdGhpcy53IC8gdGhpcy5oO1xyXG5cclxuICAgICAgICAvLyBzZXQgYXJyYXkgdmFsdWVcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaDsgKyt5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53OyArK3gpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJnYmEgZWFjaCBjb2xvciBpcyA0Ynl0ZVxyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gNCAqICh4ICsgeSAqIHRoaXMudyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5pbnRyby10by1keHIuY3d5bWFuLm9yZy9wcmVzZW50YXRpb25zL0ludHJvRFhSX1JheXRyYWNpbmdTaGFkZXJzLnBkZlxyXG4gICAgICAgICAgICAgICAgLy8gcGFnZSA3OFxyXG4gICAgICAgICAgICAgICAgLy8g6ZyA6KaB5YGP56e75Y2K5YCL5YOP57Sg55qE6ZW35bqm77yM5omN5pyD6JC95Zyo5YOP57Sg55qE5Lit6ZaTKOS4jemBjuiCieecvOeci+S4jeWkquWHuuW3ruWIpeWwseaYr+S6hilcclxuICAgICAgICAgICAgICAgIC8vIHJlbWFwIHRvIDB+MVxyXG4gICAgICAgICAgICAgICAgbGV0IFggPSAoKHggKyAwLjUpIC8gdGhpcy53KTtcclxuICAgICAgICAgICAgICAgIGxldCBZID0gKCh5ICsgMC41KSAvIHRoaXMuaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHkgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBZID0gMSAtIFk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtYXAgdG8gLTF+MVxyXG4gICAgICAgICAgICAgICAgbGV0IHhfd2VpZ2h0ID0gWCAqIDIgLSAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IHlfd2VpZ2h0ID0gWSAqIDIgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IGZ1bmMoeF93ZWlnaHQsIHlfd2VpZ2h0LCByYXRpbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBjb2xvci54O1xyXG4gICAgICAgICAgICAgICAgbGV0IGcgPSBjb2xvci55O1xyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSBjb2xvci56O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGdhbW1h5qCh5q2jXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtbWEgPSAxIC8gMi4xO1xyXG4gICAgICAgICAgICAgICAgciA9IE1hdGgucG93KHIsIGdhbW1hKTtcclxuICAgICAgICAgICAgICAgIGcgPSBNYXRoLnBvdyhnLCBnYW1tYSk7XHJcbiAgICAgICAgICAgICAgICBiID0gTWF0aC5wb3coYiwgZ2FtbWEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleCsrXSA9IE1hdGgucm91bmQociAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICBiYWNrYnVmZmVyX2RhdGFfYXJyYXlbaW5kZXgrK10gPSBNYXRoLnJvdW5kKGcgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2J1ZmZlcl9kYXRhX2FycmF5W2luZGV4KytdID0gTWF0aC5yb3VuZChiICogMjU1KTtcclxuICAgICAgICAgICAgICAgIGJhY2tidWZmZXJfZGF0YV9hcnJheVtpbmRleF0gPSAyNTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dF8yZC5wdXRJbWFnZURhdGEoYmFja2J1ZmZlcl9kYXRhLCAwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93X2J1ZmZlcihjYW52YXNfaWQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIOioreWummJ1ZmZlcueahOWkp+Wwj+WSjGNzcyBzdHlsZeeahOWkp+Wwj+S4gOaoo1xyXG4gICAgICAgIC8vIGh0dHBzOi8vb3BlbmhvbWUuY2MvR29zc2lwL1dlYkdML0NhbnZhcy5odG1sXHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc19pZCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy53ICsgJ3B4JztcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oICsgJ3B4JztcclxuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIGNvcHkgYmFja2J1ZmZlciB0byBjYW52YXNcclxuICAgICAgICBsZXQgY29udGV4dF9iaXRtYXBfcmVuZGVyID0gY2FudmFzLmdldENvbnRleHQoXCJiaXRtYXByZW5kZXJlclwiKTtcclxuICAgICAgICBjb250ZXh0X2JpdG1hcF9yZW5kZXIudHJhbnNmZXJGcm9tSW1hZ2VCaXRtYXAodGhpcy5iYWNrYnVmZmVyLnRyYW5zZmVyVG9JbWFnZUJpdG1hcCgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBEaWZmdXNlIGZyb20gXCIuLi9NYXRlcmFpbHMvRGlmZnVzZVwiO1xyXG5pbXBvcnQgSGl0YWJsZSBmcm9tIFwiLi4vTWF0aC9IaXRhYmxlXCI7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSBcIi4uL01hdGVyYWlscy9TaGFkZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lTm9kZSB7XHJcblxyXG4gICAgczogU2hhZGVyO1xyXG4gICAgaDogSGl0YWJsZTtcclxuICAgIGNvbnN0cnVjdG9yKHM6IFNoYWRlciwgaDogSGl0YWJsZSkge1xyXG4gICAgICAgIHRoaXMucyA9IHM7XHJcbiAgICAgICAgdGhpcy5oID0gaDtcclxuICAgIH1cclxufSIsImltcG9ydCBTaGFkZXIgZnJvbSBcIi4vU2hhZGVyXCI7XHJcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL01hdGgvVmVjdG9yXCI7XHJcbmltcG9ydCBIaXRJbmZvIGZyb20gXCIuLi9NYXRoL0hpdEluZm9cIjtcclxuaW1wb3J0IHsgZXBzaWxvbiwgZ2V0X2hpdF9zb3J0X2xpc3QgfSBmcm9tIFwiLi4vTWF0aC9Ub29sXCJcclxuaW1wb3J0IFJheSBmcm9tIFwiLi4vTWF0aC9SYXlcIjtcclxuaW1wb3J0IFNjZW5lTm9kZSBmcm9tIFwiLi4vT2JqZWN0L1NjZW5lTm9kZVwiO1xyXG5pbXBvcnQgRGlmZnVzZSBmcm9tIFwiLi9EaWZmdXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaXJyb3IgaW1wbGVtZW50cyBTaGFkZXIge1xyXG4gICAgc2hhZGluZyhoaXRfaW5mbzogSGl0SW5mbywgZGlyZWN0aW9uX2xpZ2h0X2RpcjogVmVjdG9yLCBvYmpfbGlzdDogU2NlbmVOb2RlW10sIGRlcHRoOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKGRlcHRoID4gMjApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i2hemBjuS4iumZkCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gRGlmZnVzZS5ncmVlbi5jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBuID0gaGl0X2luZm8ubm9ybWFsO1xyXG4gICAgICAgIGxldCBpID0gaGl0X2luZm8uaTtcclxuICAgICAgICBsZXQgciA9IFZlY3Rvci5yZWZsZWN0KGksIG4pO1xyXG5cclxuICAgICAgICAvLyDnlKLnlJ/lj43lsIRyYXlcclxuICAgICAgICBsZXQgZnJvbSA9IGhpdF9pbmZvLmhpdF9wb3MuYWRkKHIubXVsdGlwbHkoZXBzaWxvbikpOyAvLyDlgY/np7vkuIDlsI/mrrXot53pm6LvvIzpgb/lhY3lsITkuK3oh6rlt7FcclxuICAgICAgICBsZXQgcmF5ID0gbmV3IFJheShmcm9tLCByKTtcclxuICAgICAgICBsZXQgaGl0X3NvcnRfbGlzdCA9IGdldF9oaXRfc29ydF9saXN0KG9ial9saXN0LCByYXkpO1xyXG5cclxuICAgICAgICBsZXQgY29sb3IgPSBuZXcgVmVjdG9yKDEsIDEsIDEpO1xyXG4gICAgICAgIC8vIOacieWwhOS4reWXjlxyXG4gICAgICAgIGxldCBpc19oaXQgPSBoaXRfc29ydF9saXN0Lmxlbmd0aCAhPSAwO1xyXG4gICAgICAgIGlmIChpc19oaXQpIHtcclxuICAgICAgICAgICAgbGV0IGhpdF9pbmZvX25leHQgPSBoaXRfc29ydF9saXN0WzBdO1xyXG4gICAgICAgICAgICBsZXQgaGl0X2NvbG9yID0gaGl0X2luZm9fbmV4dC5zLnNoYWRpbmcoaGl0X2luZm9fbmV4dCwgZGlyZWN0aW9uX2xpZ2h0X2Rpciwgb2JqX2xpc3QsICsrZGVwdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLm11bHRpcGx5Myhjb2xvciwgaGl0X2NvbG9yLm11bHRpcGx5KDAuOSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IubXVsdGlwbHkzKGNvbG9yLCBEaWZmdXNlLmdyYXkuY29sb3IubXVsdGlwbHkoMC45KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XHJcblxyXG5uZXcgQXBwKCk7IiwiaW1wb3J0IFZlY3RvciBmcm9tICcuL01hdGgvVmVjdG9yJ1xyXG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vTWF0aC9DYW1lcmEnXHJcbmltcG9ydCBSZWN0IGZyb20gJy4vTWF0aC9SZWN0JztcclxuaW1wb3J0IFBsYW5lIGZyb20gJy4vTWF0aC9QbGFuZSc7XHJcbmltcG9ydCBTcGhlcmUgZnJvbSAnLi9NYXRoL1NwaGVyZSc7XHJcbmltcG9ydCBSZW5kZXJUYXJnZXQgZnJvbSAnLi9NYXRoL1JlbmRlclRhcmdldCc7XHJcbmltcG9ydCBTY2VuZU5vZGUgZnJvbSAnLi9PYmplY3QvU2NlbmVOb2RlJztcclxuaW1wb3J0IERpZmZ1c2UgZnJvbSAnLi9NYXRlcmFpbHMvRGlmZnVzZSc7XHJcbmltcG9ydCBNaXJyb3IgZnJvbSAnLi9NYXRlcmFpbHMvTWlycm9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgbGV0IGZsb29yID0gbmV3IFNjZW5lTm9kZShEaWZmdXNlLndoaXRlLCBuZXcgUmVjdChuZXcgUGxhbmUoVmVjdG9yLnplcm8sIFZlY3Rvci51cCksIDE2LCAxNikpXHJcbiAgICAgICAgbGV0IG9ial9saXN0OiBTY2VuZU5vZGVbXSA9IFtmbG9vcl07XHJcbiAgICAgICAgb2JqX2xpc3QucHVzaChuZXcgU2NlbmVOb2RlKERpZmZ1c2UueWVsbG93LCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoNiwgMiwgLTgpLCAyKSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShEaWZmdXNlLmdyZWVuLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoLTYsIDIsIC04KSwgMikpKTtcclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUoRGlmZnVzZS5ibHVlLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgMiwgLTEyKSwgMikpKTtcclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUoRGlmZnVzZS55ZWxsb3csIG5ldyBTcGhlcmUobmV3IFZlY3RvcigtMTAsIDYsIDApLCA2KSkpO1xyXG5cclxuICAgICAgICBvYmpfbGlzdC5wdXNoKG5ldyBTY2VuZU5vZGUobmV3IE1pcnJvcigpLCBuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgMiwgLTIpLCAyKSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShuZXcgTWlycm9yKCksIG5ldyBTcGhlcmUobmV3IFZlY3RvcigxMiwgNCwgLTYpLCA0KSkpO1xyXG4gICAgICAgIG9ial9saXN0LnB1c2gobmV3IFNjZW5lTm9kZShuZXcgTWlycm9yKCksIG5ldyBTcGhlcmUobmV3IFZlY3Rvcig4LCA0LCAyKSwgNCkpKTtcclxuXHJcbiAgICAgICAgbGV0IGNhbWVyYSA9IG5ldyBDYW1lcmEobmV3IFZlY3RvcigwLCAyMCwgLTIwKSwgVmVjdG9yLnplcm8sIDYwKTtcclxuICAgICAgICAvLyBsZXQgcmVuZGVyX3RhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoNDA5NiwgMjE2MCk7XHJcbiAgICAgICAgLy8gbGV0IHJlbmRlcl90YXJnZXQgPSBuZXcgUmVuZGVyVGFyZ2V0KDE5MjAsIDEwODApO1xyXG4gICAgICAgIGxldCByZW5kZXJfdGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCg4MDAsIDYwMCk7XHJcbiAgICAgICAgY2FtZXJhLnJlbmRlcihyZW5kZXJfdGFyZ2V0LCBvYmpfbGlzdCk7XHJcbiAgICAgICAgcmVuZGVyX3RhcmdldC5zaG93X2J1ZmZlcignY2FudmFzJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=